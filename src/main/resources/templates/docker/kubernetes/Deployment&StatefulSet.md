## Deployment & Stateful Set

### 장애 대응
만약 앱의 팟이 다운되거나 죽은 경우 사용자는 앱에 접근할 수 없습니다.

이러한 분산시스템과 컨테이너의 장점으로 App Pod와 DB Pod등은 하나의 파트만을 의존하는 대신
여러 서버에 복제합니다.

다른 노드에 앱 복제본이 실행되며, 이 복제본도 서비스에 연결됩니다.

<img src="../../../static/img/img_7.png" alt="복제본" width="60%">

이전에 설명처럼 IP주소를 사용하고 로드밸런싱 역할을 합니다.( 현재 가장 바쁘지 않은 파드로 전달)

이를위해 ***블루 프린트***란 것을 지정해주어야 합니다. 

그리고 이 블루프린트를 <h3>Deployment</h3>라고 부릅니다.

<img src="../../../static/img/img_8.png" alt="Deployment" width="60%">

실제로 두 번째 파드를 생성하는 대신 배포를 생성하고 관리할 것입니다.
배포를 통해 몇 개의 복제본을 실행할지 지정하고 필요에 따라 스케일을 조정할 수 있습니다.
배포에서는 얼마나 많은 복제본을 실행할지 지정할 수 있으며, 필요한 경우 복제본의 수를 확장하거나 축소할 수도 있습니다.


### 그런데 여기 문제가 하나 있습니다.
<img src="../../../static/img/img_9.png" alt="Deployment" width="80%">\

App은 복제가 가능하지만 DB는 복제가 안됩니다.

### 데이터베이스와 StatefulSet